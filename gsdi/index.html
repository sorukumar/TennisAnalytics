<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slam Performance Power Rankings: Most Dominant Grand Slam Runs</title>
    
    <!-- Open Graph meta tags for Facebook, LinkedIn, etc. -->
    <meta property="og:title" content="Slam Performance Power Rankings: Who Had the Most Dominant Grand Slam Runs?">
    <meta property="og:description" content="Beyond just winning—who crushed the competition? Our rankings reveal the most statistically dominant Grand Slam championship runs since 2000.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://sorukumar.github.io/TennisAnalytics/gsdi/">
    <meta property="og:image" content="https://sorukumar.github.io/TennisAnalytics/image/claytennis.jpeg">
    
    <!-- Twitter meta tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Slam Performance Power Rankings: Most Dominant Grand Slam Runs">
    <meta name="twitter:description" content="Beyond just winning—who crushed the competition? Our data reveals the most commanding Grand Slam runs since 2000.">
    <meta name="twitter:image" content="https://sorukumar.github.io/TennisAnalytics/image/claytennis.jpeg">
    
    <!-- Include components -->
    <script src="../components/include.js"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Add Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    
    <!-- Project CSS -->
    <link rel="stylesheet" href="../tennis_analytics.css">
    <link rel="stylesheet" href="gsdi.css">
    
    <!-- DataTables CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.2.2/css/buttons.dataTables.min.css">
    
    <!-- Favicon -->
    <link rel="icon" href="../image/favicon.ico">

    <!-- Bootstrap JS for tooltips -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../components/social-share.js"></script>
</head>
<body>
    <main class="main-content">
        <div class="container">
            <h1 class="section-title">Slam Performance Power Rankings</h1>
            
            <div class="article-header">
                <div class="intro-text">
                    <p>Which Grand Slam champion was the most <strong>dominant</strong> in history? Nadal at Roland Garros? Federer at Wimbledon? Or Djokovic in Melbourne?</p>
                    
                    <p>Our Power Rankings analyze statistical dominance across sets, games, points, opponent quality, and match efficiency to identify the most commanding Grand Slam runs since 2000.</p>
                </div>
            </div>
            
            <div class="controls-container">
                <button id="showMethodology" class="methodology-btn">
                    How Are Performances Ranked?
                </button>
            </div>

            <div class="chart-container">
                <table id="gsdiTable" class="display" style="width:100%">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Campaign</th>
                            <th>Power Score</th>
                            <th>Sets Won %</th>
                            <th>Games Won %</th>
                            <th>Points Won %</th>
                            <th>Top 5 Wins</th>
                            <th>Sets Lost</th>
                        </tr>
                    </thead>
                </table>
            </div>

            <div class="gsdi-breakdown">
                <div class="gsdi-formula">
                    <h3>The Power Ranking Formula</h3>
                    <div class="formula-text">
                        Power Score = 
                        0.32 × (Sets Won %) +
                        0.25 × (Games Won %) +
                        0.23 × (Points Won %) +
                        0.10 × (Opponent Quality) +
                        0.10 × (Speed Score) +
                        Bonus Points
                    </div>
            
                    <div class="gsdi-components">
                        <div class="gsdi-component" data-component="sets" data-weight="0.32">
                            <h4>Sets Won %</h4>
                            <p>Percentage of sets won throughout the tournament</p>
                            <div class="weight">32%</div>
                        </div>
                        <div class="gsdi-component" data-component="games" data-weight="0.25">
                            <h4>Games Won %</h4>
                            <p>Percentage of games won throughout the tournament</p>
                            <div class="weight">25%</div>
                        </div>
                        <div class="gsdi-component" data-component="points" data-weight="0.23">
                            <h4>Points Won %</h4>
                            <p>Percentage of points won throughout the tournament</p>
                            <div class="weight">23%</div>
                        </div>
                        <div class="gsdi-component" data-component="opponent" data-weight="0.10">
                            <h4>Opponent Quality</h4>
                            <p>Percentage of matches against top-30 ranked opponents</p>
                            <div class="weight">10%</div>
                        </div>
                        <div class="gsdi-component" data-component="speed" data-weight="0.10">
                            <h4>Speed Score</h4>
                            <p>Measures the efficiency and dominance in match completion time</p>
                            <div class="weight">10%</div>
                        </div>
                    </div>

                    <h3>Bonus Points:</h3>
                    <div class="bonus-components">
                        <div class="bonus-component">
                            <h4>Top 5 Wins</h4>
                            <p>3 points added for each win against a top-5 ranked opponent</p>
                        </div>
                        <div class="bonus-component">
                            <h4>Perfect Tournament</h4>
                            <p>10 points added for winning the tournament without dropping a set</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Social Share FAB -->
    <social-share></social-share>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.html5.min.js"></script>
    
    <script>
        $(document).ready(function() {
            // Load GSDI data
            fetch('data/gs_dominance_rankings.json')
                .then(response => response.json())
                .then(data => {
                    // Map data for DataTable
                    const tableData = data.map((item, index) => {
                        // Format tournament abbreviations
                        let tournamentAbbr = "";
                        switch(item.tournament) {
                            case "Roland Garros": tournamentAbbr = "RG"; break;
                            case "Australian Open": tournamentAbbr = "AO"; break;
                            case "Wimbledon": tournamentAbbr = "W"; break;
                            case "US Open": 
                            case "Us Open": tournamentAbbr = "USO"; break;
                            default: tournamentAbbr = item.tournament;
                        }
                        
                        // Create campaign text
                        const campaign = `${item.player} (${tournamentAbbr} ${item.year})`;
                        
                        return [
                            index + 1, // Rank
                            campaign, // Combined campaign column
                            item.dominance_score.toFixed(1),
                            item.sets_won_pct.toFixed(0) + '%',
                            item.games_won_pct.toFixed(0) + '%',
                            item.points_won_pct.toFixed(0) + '%',
                            item.top5_wins,
                            item.sets_lost
                        ];
                    });

                    // Initialize DataTable
                    $('#gsdiTable').DataTable({
                        data: tableData,
                        dom: 'frtip',
                        order: [[2, 'desc']], // Sort by Power Score by default
                        pageLength: 25,       // Updated to match NBI page
                        lengthMenu: [[25], [25]], // Updated to match NBI page
                        drawCallback: function() {
                            // Apply any additional styling after table draw
                        }
                    });
                })
                .catch(error => {
                    console.error('Error loading Power Rankings data:', error);
                    $('.chart-container').html('<p class="error-message">Failed to load Power Rankings data. Please try refreshing the page.</p>');
                });

            // Update methodology button to scroll to section
            $('#showMethodology').click(function() {
                $('.gsdi-breakdown')[0].scrollIntoView({ behavior: 'smooth' });
            });
            
            // Initialize social share
            initSocialShare({
                title: 'Slam Performance Power Rankings',
                description: 'Discover the most statistically dominant Grand Slam championship runs since 2000',
                url: window.location.href
            });
        });
    </script>
</body>
</html>